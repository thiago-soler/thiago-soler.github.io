"use strict";angular.module("spotipposApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch","ui.bootstrap"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl",controllerAs:"main"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl",controllerAs:"about"}).otherwise({redirectTo:"/"})}]),angular.module("spotipposApp").controller("MainCtrl",["$scope","$log","$http",function(a,b,c){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],a.listConfig={reverseSort:!0,currentPage:1,maxSize:5,entryLimit:5,orderByField:"orderBy",load:!0},c({method:"GET",url:"http://spotippos.vivareal.com/properties?ax=1&ay=1&bx=1400&by=1000"}).then(function(b){a.properties=b.data.properties,a.listConfig.load=!1},function(a){})}]),angular.module("spotipposApp").filter("plural",function(){return function(a,b){var c=parseInt(a);return b=c>1?a+" "+b+"S":a+" "+b,b.toUpperCase()}}),angular.module("spotipposApp").filter("pagination",function(){return function(a,b){return"pagination filter: "+a}}),angular.module("spotipposApp").filter("currency",function(){return function(a){a=a||"";var b=a.length%3,c=0,d=a.split(""),e="",f=!1,g=0;for(c in d)f===!0&&(g+=1),parseInt(c)===parseInt(b)&&parseInt(c)>0&&(e+=".",f=!0),(3===g||parseInt(c)%3===0&&f===!1&&parseInt(c)>0)&&(e+=".",g=0),e+=d[c];return""!==e&&(e="R$ "+e),e}}),angular.module("spotipposApp").filter("range",function(){return function(a,b,c,d){return console.log(b,c,d),!0}}),angular.module("spotipposApp").filter("startFrom",function(){return function(a,b){return a?(b=+b,a.slice(b)):[]}}),angular.module("spotipposApp").run(["$templateCache",function(a){a.put("views/main.html",'<div class="block"> <div class="container-fluid"> <div class="row"> <div class="col-xs-3"> <div class="col-xs-12 tm-box-1"> <fieldset class="form-group tm-fieldset-1"> <h4>Filtro</h4> <div class="row"> <div class="col-xs-6"> <label for="propertyId">ID</label> <input id="propertyId" ng-model="propertyId" class="form-control" aria-label="property properties.id" type="text"> </div> <div class="col-xs-6"> <label for="propertyArea">ÁREA</label> <input id="propertyArea" ng-model="propertyArea" class="form-control" type="text"> </div> </div> </fieldset> <fieldset class="form-group tm-fieldset-1"> <div class="row"> <div class="col-xs-6"> <label for="propertyBed">QUARTOS</label> <input id="propertyBed" ng-model="propertyBed" class="form-control" type="text"> </div> <div class="col-xs-6"> <label for="propertyBath">BANHEIROS</label> <input id="propertyBath" ng-model="propertyBath" class="form-control" type="text"> </div> </div> </fieldset> <fieldset class="form-group tm-fieldset-1"> <div class="row linked"> <div class="col-xs-6"> <label for="propertyMinPrice">VALOR</label> <input id="propertyMinPrice" ng-model="propertyMinPrice" class="form-control" type="text" placeholder="Mínimo"> </div> <div class="col-xs-6"> <input id="propertyMaxPrice" ng-model="propertyMaxPrice" class="form-control" type="text" placeholder="Máximo"> </div> </div> </fieldset> </div> </div> <div class="col-xs-9"> <div class="col-xs-12 tm-box-1 grid-gutter-1"> <!-- <article class="tm-media-1" > --> <article class="tm-media-1" ng-repeat="property in filteredItem = ( properties | filter:{id:propertyId} | filter:{squareMeters:propertyArea} | filter:{beds:propertyBed} | filter:{baths:propertyBath}  | orderBy:listConfig.orderByField:listConfig.reverseSort ) | startFrom:(listConfig.currentPage-1)*listConfig.entryLimit | limitTo:listConfig.entryLimit"> <!-- <article class="tm-media-1" ng-repeat="property in properties | filter:{id:propertyId} | filter:{squareMeters:propertyArea} | filter:{beds:propertyBed} | filter:{baths:propertyBath}  | limitTo:itemsPerPage as results" > --> <div class="galery"> <img src="http://resizedimgs.vivareal.com/lDEQXgt10gptzBy68VeyYKu_L3k=/fit-in/480x0/vr.images.sp/6bbf0e58-262b-4d78-8041-7b2bd40cab57.jpg" alt="Exemplo de imóvel"> <span class="price"> {{property.price | currency}} </span> </div> <div class="content"> <div class="box-1 type-1"> <header> <span class="box-2"> ID. {{property.id}} </span> <h2> {{property.title}} </h2> <p> {{property.description}} </p> </header> </div> <div class="box-1 type-2"> <ul class="details"> <li class="item"> <i class="icons-area"></i> <span class="description">{{property.squareMeters}} M&sup2</span> </li> <li class="item"> <i class="icons-beds"></i> <span class="description">{{property.beds | plural:"QUARTO"}}</span> </li> <li class="item"> <i class="icons-bathroom"></i> <span class="description">{{property.baths | plural:"BANHEIRO"}}</span> </li> </ul> <a href="/#/" class="app-btn-1">VISUALIZAR ANÚNCIO</a> </div> </div> </article> <ul ng-if="filteredItem.length !== 0 && listConfig.load === false" uib-pagination boundary-links="true" total-items="filteredItem.length" max-size="listConfig.maxSize" items-per-page="listConfig.entryLimit" ng-model="listConfig.currentPage" class="pagination-sm pull-right" previous-text="&lsaquo;" next-text="&rsaquo;" first-text="&laquo;" last-text="&raquo;"> </ul> <article class="tm-media-1" ng-if="filteredItem.length === 0 && listConfig.load === false"> <div class="content"> <div class="box-1 type-1"> <h2>Nenhum resultado encontrado</h2> <p class="style-reset-1">Por favor, realize um novo filtro.</p> </div> </div> </article> <article class="tm-media-1" ng-if="listConfig.load === true"> <div class="content"> <div class="box-1 type-1"> <h2>Por favor, aguarde</h2> <p class="style-reset-1">Estamos carregando a lista de imóveis.</p> </div> </div> </article> <!-- <button ng-disabled="currentPage == 0" ng-click="currentPage=currentPage-1">\n              Previous\n          </button>\n          {{currentPage+1}}/{{numberOfPages()}}\n          <button ng-disabled="currentPage >= data.length/pageSize - 1" ng-click="currentPage=currentPage+1">\n              Next\n          </button> --> </div> </div> </div> </div> </div>')}]);